{% extends 'base.html.twig' %}

{% block body %}
    <div class="row">
        <div class="col-md-8">
            <h3>
                h3. Lorem ipsum dolor sit amet.
            </h3>

            <form role="form">
                <div class="form-group">

                    <label for="groupID">
                        Group ID
                    </label>
                    <input type="number" class="form-control" id="groupID" ng-model="groupID"/>
                </div>
                <div class="form-group">

                    <label for="quantity">
                        Record Quantity
                    </label>
                    <input type="number" class="form-control" id="quantity" ng-model="quantity"/>
                </div>
                <div class="form-group">

                    <label for="total">
                        Total Records
                    </label>
                    <input type="number" class="form-control" id="total" ng-model="total"/>
                </div>
                <button type="submit" class="btn btn-default" ng-click="heartbeat(); moveUsers(0)">
                    Submit
                </button>
            </form>
        </div>
        <div class="col-md-4">
            <h3>
                h3. Lorem ipsum dolor sit amet.
            </h3>

            <div ng-repeat="exec in execs" id="execs">
                <p>Processed {{ '{{ exec.offset }}' }} to {{ '{{ exec.offset + exec.quantity }}' }} records... {{ '{{Date.now() | date:"dd.MM.yyyy HH:mm:ss"}}' }}</p>
                <p>moved: {{ '{{ exec.moved }}' }}, exist: {{ '{{ exec.exist }}' }}, ignored: {{ '{{ exec.ignored }}' }}, errors: {{ '{{ exec.errors }}' }}</p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12" ng-show="stats">
            <h3>
                Processing {{ '{{ offset }}' }} to {{ '{{ offset + quantity }}' }} records...
            </h3>

            <div class="progress">
                <div class="progress-bar progress-bar-success progress-bar-striped" style="width: {{ '{{ progress_moved }}' }}%; min-width: 2em;">
                    {{ '{{ progress_moved }}' }}%
                </div>
                <div class="progress-bar progress-bar-info progress-bar-striped" style="width: {{ '{{ progress_exist }}' }}%; min-width: 2em;">
                    {{ '{{ progress_exist }}' }}%
                </div>
                <div class="progress-bar progress-bar-warning progress-bar-striped" style="width: {{ '{{ progress_ignored }}' }}%; min-width: 2em;">
                    {{ '{{ progress_ignored }}' }}%
                </div>
                <div class="progress-bar progress-bar-danger progress-bar-striped" style="width: {{ '{{ progress_errors }}' }}%; min-width: 2em;">
                    {{ '{{ progress_errors }}' }}%
                </div>
            </div>
        </div>
    </div>
{% endblock %}

